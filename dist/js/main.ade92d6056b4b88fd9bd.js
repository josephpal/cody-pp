webpackJsonp([0],[,,,function(t,a,e){"use strict";e.d(a,"a",function(){return u});var n=e(0),r=e.n(n),i=r.a.goog;i.provide("Blockly.Lua.logic"),i.require("Blockly.Lua"),i.provide("Blockly.Dart.logic"),i.require("Blockly.Dart"),i.provide("Blockly.JavaScript.logic"),i.require("Blockly.JavaScript");var o=0,u=function(){o=0};r.a.Lua.controls_if1=function(t){var a,e,n=0,i=o,u="";do{e=r.a.Lua.valueToCode(t,"IF"+n,r.a.Lua.ORDER_NONE)||"A,0,=,0",a=r.a.Lua.statementToCode(t,"DO"+n),u+=(n>0?"else":"")+"#I,"+e+","+o+";\n"+a,++o,++n}while(t.getInput("IF"+n));return t.getInput("ELSE")&&(a=r.a.Lua.statementToCode(t,"ELSE"),u+="else\n"+a),i=o-1,u+"#J,"+i+";\n"},r.a.Dart.controls_if1=function(t){var a,e,n=0,i="";do{e=r.a.Dart.valueToCode(t,"IF"+n,r.a.Dart.ORDER_NONE)||"",a=r.a.Dart.statementToCode(t,"DO"+n),i+=(n>0?"else ":"")+"if ("+e+") {\n"+a+"}",++n}while(t.getInput("IF"+n));return t.getInput("ELSE")&&(a=r.a.Dart.statementToCode(t,"ELSE"),i+=" else {\n"+a+"}"),i+"\n"},r.a.JavaScript.controls_if1=function(t){var a,e,n=0,i="";do{e=r.a.JavaScript.valueToCode(t,"IF"+n,r.a.JavaScript.ORDER_NONE)||"",a=r.a.JavaScript.statementToCode(t,"DO"+n),i+=(n>0?"else ":"")+"if "+e+" {\n"+a+"}",++n}while(t.getInput("IF"+n));return t.getInput("ELSE")&&(a=r.a.JavaScript.statementToCode(t,"ELSE"),i+=" else {\n"+a+"}"),i+"\n"},r.a.Lua.controls_ifelse=r.a.Lua.controls_if,r.a.Dart.controls_ifelse=r.a.Dart.controls_if,r.a.JavaScript.controls_ifelse=r.a.JavaScript.controls_if,r.a.Lua.analog_logic_compare=function(t){var a={EQ:"=",NEQ:"~=",LT:"<",LTE:"<=",GT:">",GTE:">="},e=a[t.getFieldValue("OP")];return["A,"+t.getFieldValue("A")+","+e+","+t.getFieldValue("B"),r.a.Lua.ORDER_RELATIONAL]},r.a.Dart.analog_logic_compare=function(t){var a,e={EQ:"=",NEQ:"~=",LT:"<",LTE:"<=",GT:">",GTE:">="},n=e[t.getFieldValue("OP")],i=t.getFieldValue("A"),o=t.getFieldValue("B");return a="="==n?"mDAIn["+i+"].getAnalogIn() == "+o:"mDAIn["+i+"].getAnalogIn() "+n+" "+o,[a,r.a.Dart.ORDER_RELATIONAL]},r.a.JavaScript.analog_logic_compare=function(t){var a={EQ:"=",NEQ:"~=",LT:"<",LTE:"<=",GT:">",GTE:">="},e=a[t.getFieldValue("OP")],n=t.getFieldValue("A"),i=t.getFieldValue("B");if("="==e)var o="Analog Port "+n+" "+e+e+" "+i+" then do ";else var o="Analog Port "+n+" "+e+" "+i+" then do ";return[o,r.a.JavaScript.ORDER_RELATIONAL]},r.a.Lua.digital_logic_compare=function(t){var a={EQ:"=",NEQ:"~=",LT:"<",LTE:"<=",GT:">",GTE:">="};t.getFieldValue("OP");return["D,"+t.getFieldValue("A")+",=,"+t.getFieldValue("B"),r.a.Lua.ORDER_RELATIONAL]},r.a.Dart.digital_logic_compare=function(t){var a={EQ:"=",NEQ:"~=",LT:"<",LTE:"<=",GT:">",GTE:">="};t.getFieldValue("OP");return["mDAIn["+t.getFieldValue("A")+"].getDigitalIn() == "+t.getFieldValue("B"),r.a.Dart.ORDER_RELATIONAL]},r.a.JavaScript.digital_logic_compare=function(t){var a={EQ:"=",NEQ:"~=",LT:"<",LTE:"<=",GT:">",GTE:">="};t.getFieldValue("OP");return["Digital Port "+t.getFieldValue("A")+" == "+t.getFieldValue("B")+" then do ",r.a.JavaScript.ORDER_RELATIONAL]}},function(t,a,e){"use strict";e.d(a,"a",function(){return u});var n=e(0),r=e.n(n),i=r.a.goog;i.provide("Blockly.Lua.loops"),i.require("Blockly.Lua"),i.provide("Blockly.Dart.loops"),i.require("Blockly.Dart"),i.provide("Blockly.JavaScript.loops"),i.require("Blockly.JavaScript");var o=-1,u=function(){o=-1};r.a.Lua.CONTINUE_STATEMENT="goto continue\n",r.a.Lua.addContinueLabel=function(t){return t.indexOf(r.a.Lua.CONTINUE_STATEMENT)>-1?t+r.a.Lua.INDENT+"::continue::\n":t},r.a.Dart.addContinueLabel=function(t){return t.indexOf(r.a.Dart.CONTINUE_STATEMENT)>-1?t+r.a.Dart.INDENT+"::continue::\n":t},r.a.JavaScript.addContinueLabel=function(t){return t.indexOf(r.a.Dart.CONTINUE_STATEMENT)>-1?t+r.a.Dart.INDENT+"::continue::\n":t},r.a.Lua.controls_repeat_ext=function(t){var a=r.a.Lua.valueToCode(t,"TIMES",r.a.Lua.ORDER_NONE)||"0";a=r.a.isNumber(a)?parseInt(a,10):"math.floor("+a+")";var e=r.a.Lua.statementToCode(t,"DO")||"\n";e=r.a.Lua.addContinueLabel(e);r.a.Lua.variableDB_.getDistinctName("count",r.a.Variables.NAME_TYPE);return++o,"#W,Z,"+a+","+o+";\n"+e+"#X,"+o+";\n"},r.a.Dart.controls_repeat_ext=function(t){var a=r.a.Dart.valueToCode(t,"TIMES",r.a.Dart.ORDER_NONE)||"0";a=r.a.isNumber(a)?parseInt(a,10):"math.floor("+a+")";var e=r.a.Dart.statementToCode(t,"DO")||"\n";return e=r.a.Dart.addContinueLabel(e),++o,"for (int i = 0; i < "+a+"; i++) {\n"+e+"}\n"},r.a.JavaScript.controls_repeat_ext=function(t){var a=r.a.JavaScript.valueToCode(t,"TIMES",r.a.JavaScript.ORDER_NONE)||"0";a=r.a.isNumber(a)?parseInt(a,10):"math.floor("+a+")";var e=r.a.JavaScript.statementToCode(t,"DO")||"\n";e=r.a.JavaScript.addContinueLabel(e);r.a.JavaScript.variableDB_.getDistinctName("count",r.a.Variables.NAME_TYPE);return++o,"repeat "+a+" times {\n"+e+"}\n"},r.a.Lua.controls_whileuntil1=function(t){var a="UNTIL"==t.getFieldValue("MODE"),e=r.a.Lua.valueToCode(t,"BOOL",a?r.a.Lua.ORDER_UNARY:r.a.Lua.ORDER_NONE)||"A,0,=,0",n=r.a.Lua.statementToCode(t,"DO")||"\n";return n=r.a.Lua.addLoopTrap(n,t.id),n=r.a.Lua.addContinueLabel(n),a&&(e="not "+e),++o,"#W,"+e+","+o+";\n"+n+"#X,"+o+";\n"},r.a.Dart.controls_whileuntil1=function(t){var a="UNTIL"==t.getFieldValue("MODE"),e=r.a.Dart.valueToCode(t,"BOOL",a?r.a.Dart.ORDER_UNARY:r.a.Dart.ORDER_NONE)||"",n=r.a.Dart.statementToCode(t,"DO")||"\n";return n=r.a.Dart.addLoopTrap(n,t.id),n=r.a.Dart.addContinueLabel(n),a&&(e="not "+e),++o,"while ("+e+") {\n"+n+"}\n"},r.a.JavaScript.controls_whileuntil1=function(t){var a="UNTIL"==t.getFieldValue("MODE"),e=r.a.JavaScript.valueToCode(t,"BOOL",a?r.a.JavaScript.ORDER_UNARY:r.a.JavaScript.ORDER_NONE)||"",n=r.a.JavaScript.statementToCode(t,"DO")||"\n";return n=r.a.JavaScript.addLoopTrap(n,t.id),n=r.a.JavaScript.addContinueLabel(n),a&&(e="not "+e),++o,"while "+e+"{\n"+n+"}\n"},r.a.Lua.start=function(t){var a=r.a.Lua.statementToCode(t,"state")||"\n";return a=r.a.Lua.addLoopTrap(a,t.id),"#Start;\n"+(a=r.a.Lua.addContinueLabel(a))+"#Stop;\n"},r.a.Dart.start=function(t){var a=r.a.Dart.statementToCode(t,"state")||"\n";return a=r.a.Dart.addLoopTrap(a,t.id),a=r.a.Dart.addContinueLabel(a),'#include "ft_ESP32_IOobjects.h"\n\nint main() {\n'+r.a.Dart.INDENT+"// motor objects\n"+r.a.Dart.INDENT+"Motor mMotor0(0);\n"+r.a.Dart.INDENT+"Motor mMotor1(1);\n\n"+r.a.Dart.INDENT+"// lamp objects\n"+r.a.Dart.INDENT+"Lampe mLampe0(0);\n"+r.a.Dart.INDENT+"Lampe mLampe1(1);\n\n"+r.a.Dart.INDENT+"// input objects\n"+r.a.Dart.INDENT+"DigitalAnalogIn mDAIn[DAIN_QTY];\n\n"+r.a.Dart.INDENT+"for(unsigned int i = 0; i < mDAIn.size(); i++) {\n"+r.a.Dart.INDENT+r.a.Dart.INDENT+"mDAIn[i] = DigitalAnalogIn(i);\n"+r.a.Dart.INDENT+"}\n\n"+a+"\n"+r.a.Dart.INDENT+"return 0; \n}"},r.a.JavaScript.start=function(t){var a=r.a.JavaScript.statementToCode(t,"state")||"\n";return a=r.a.JavaScript.addLoopTrap(a,t.id),"Start application\n"+(a=r.a.JavaScript.addContinueLabel(a))+"Stop application"}},function(t,a,e){t.exports=e.p+"assets/img/stop.0ba112f.svg"},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(7),r=e(11),i=e(55),o=e.n(i),u=e(58),l=(e.n(u),e(60)),c=(e.n(l),e(61));e.n(c);n.a.config.productionTip=!1,n.a.use(o.a),new n.a({el:"#app",template:"<App/>",components:{App:r.a}})},,,,,function(t,a,e){"use strict";function n(t){e(12)}var r=e(14),i=e(54),o=e(1),u=n,l=o(r.a,i.a,!1,u,null,null);a.a=l.exports},function(t,a){},,function(t,a,e){"use strict";var n=e(15),r=e(34),i=e(38);a.a={name:"app",data:function(){return{blocklyInstance:null}},methods:{registerBlockly:function(t){this.blocklyInstance=t}},components:{Header:r.a,BlocklyContainer:n.a,CodePreview:i.a}}},function(t,a,e){"use strict";function n(t){e(16)}var r=e(17),i=e(33),o=e(1),u=n,l=o(r.a,i.a,!1,u,null,null);a.a=l.exports},function(t,a){},function(t,a,e){"use strict";var n=e(0),r=e.n(n),i=(e(26),e(27),e(28),e(29),e(3),e(4),e(30),e(31),e(32));a.a={name:"BlocklyContainer",mounted:function(){var t=r.a.inject("blockly",{toolbox:r.a.Xml.textToDom(i.a),media:"/static/blockly/",zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},trashcan:!0});this.$emit("registerBlockly",t)}}},,,,,,,,,function(t,a,e){"use strict";var n=e(0),r=e.n(n);r.a.Blocks.start={init:function(){this.appendDummyInput().appendField("Start"),this.appendStatementInput("state"),this.setColour(65),this.setTooltip(""),this.setHelpUrl(""),r.a.BlockSvg.START_HAT=!0}},r.a.Blocks.wait={init:function(){this.appendDummyInput().appendField("wait").appendField(new r.a.FieldNumber(0,0,255,.01),"seconds").appendField("seconds"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(260),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.motor={init:function(){this.appendDummyInput().appendField("Set Motor").appendField(new r.a.FieldDropdown([["M0","0"],["M1","1"],["M2","2"],["M3","3"]]),"motorNumber").appendField(" direction").appendField(new r.a.FieldDropdown([["left","0"],["right","1"]]),"motorDirection").appendField("speed").appendField(new r.a.FieldDropdown([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]]),"motorSpeed"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.lamp={init:function(){this.appendDummyInput().appendField("Set").appendField(new r.a.FieldDropdown([["L0","0"],["L1","1"],["L2","2"],["L3","3"]]),"lampNumber").appendField("to").appendField(new r.a.FieldDropdown([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]]),"state"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.analog_logic_compare={init:function(){this.appendDummyInput().appendField(new r.a.FieldDropdown([["Port A0","0"],["Port A1","1"],["Port A2","2"],["Port A3","3"],["Port A4","4"],["Port A5","5"],["Port A6","6"],["Port A7","7"]]),"A").appendField(new r.a.FieldDropdown([["=","EQ"],["<","LT"],[">","GT"]]),"OP").appendField(new r.a.FieldNumber(0,0,127,1),"B"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(0),this.setTooltip("Analog Compare"),this.setHelpUrl("")}},r.a.Blocks.digital_logic_compare={init:function(){this.appendDummyInput().appendField(new r.a.FieldDropdown([["Port D0","0"],["Port D1","1"],["Port D2","2"],["Port D3","3"],["Port D4","4"],["Port D5","5"],["Port D6","6"],["Port D7","7"]]),"A").appendField(new r.a.FieldTextInput("="),"OP").appendField(new r.a.FieldDropdown([["0","0"],["1","1"]]),"B"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(0),this.setTooltip("Digital Compare"),this.setHelpUrl("")}},r.a.Blocks.controls_if1={init:function(){this.appendValueInput("IF0").setCheck("Boolean").appendField("if"),this.appendStatementInput("DO0").setCheck(null).appendField("do"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.a.Blocks.controls_whileuntil1={init:function(){this.appendValueInput("BOOL").setCheck("Boolean").appendField("repeat while"),this.appendStatementInput("DO").setCheck(null).appendField("do"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip(""),this.setHelpUrl("")}}},function(t,a,e){"use strict";var n=e(0),r=e.n(n),i=r.a.goog;i.provide("Blockly.Lua"),i.require("Blockly.Generator"),r.a.Lua=new r.a.Generator("Lua"),r.a.Lua.addReservedWords("_,__inext,assert,bit,colors,colours,coroutine,disk,dofile,error,fs,fetfenv,getmetatable,gps,help,io,ipairs,keys,loadfile,loadstring,math,native,next,os,paintutils,pairs,parallel,pcall,peripheral,print,printError,rawequal,rawget,rawset,read,rednet,redstone,rs,select,setfenv,setmetatable,sleep,string,table,term,textutils,tonumber,tostring,turtle,type,unpack,vector,write,xpcall,_VERSION,__indext,HTTP,and,break,do,else,elseif,end,false,for,function,if,in,local,nil,not,or,repeat,return,then,true,until,while,add,sub,mul,div,mod,pow,unm,concat,len,eq,lt,le,index,newindex,call,assert,collectgarbage,dofile,error,_G,getmetatable,inpairs,load,loadfile,next,pairs,pcall,print,rawequal,rawget,rawlen,rawset,select,setmetatable,tonumber,tostring,type,_VERSION,xpcall,require,package,string,table,math,bit32,io,file,os,debug"),r.a.Lua.ORDER_ATOMIC=0,r.a.Lua.ORDER_HIGH=1,r.a.Lua.ORDER_EXPONENTIATION=2,r.a.Lua.ORDER_UNARY=3,r.a.Lua.ORDER_MULTIPLICATIVE=4,r.a.Lua.ORDER_ADDITIVE=5,r.a.Lua.ORDER_CONCATENATION=6,r.a.Lua.ORDER_RELATIONAL=7,r.a.Lua.ORDER_AND=8,r.a.Lua.ORDER_OR=9,r.a.Lua.ORDER_NONE=99,r.a.Lua.init=function(t){r.a.Lua.definitions_=Object.create(null),r.a.Lua.functionNames_=Object.create(null),r.a.Lua.variableDB_?r.a.Lua.variableDB_.reset():r.a.Lua.variableDB_=new r.a.Names(r.a.Lua.RESERVED_WORDS_)},r.a.Lua.finish=function(t){var a=[];for(var e in r.a.Lua.definitions_)a.push(r.a.Lua.definitions_[e]);return delete r.a.Lua.definitions_,delete r.a.Lua.functionNames_,r.a.Lua.variableDB_.reset(),a.join("\n\n")+"\n\n\n"+t},r.a.Lua.scrubNakedValue=function(t){return"local _ = "+t+"\n"},r.a.Lua.quote_=function(t){return"'"+(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},r.a.Lua.scrub_=function(t,a){var e="";if(!t.outputConnection||!t.outputConnection.targetConnection){var n=t.getCommentText();n=r.a.utils.wrap(n,r.a.Lua.COMMENT_WRAP-3),n&&(e+=r.a.Lua.prefixLines(n,"-- ")+"\n");for(var i=0;i<t.inputList.length;i++)if(t.inputList[i].type==r.a.INPUT_VALUE){var o=t.inputList[i].connection.targetBlock();o&&(n=r.a.Lua.allNestedComments(o))&&(e+=r.a.Lua.prefixLines(n,"-- "))}}var u=t.nextConnection&&t.nextConnection.targetBlock();return e+a+r.a.Lua.blockToCode(u)}},function(t,a,e){"use strict";var n=e(0),r=e.n(n);r.a.Dart.finish=function(t){var a=[],e=[];for(var n in r.a.Dart.definitions_){var i=r.a.Dart.definitions_[n];i.match(/^import\s/)?a.push(i):e.push(i)}return delete r.a.Dart.definitions_,delete r.a.Dart.functionNames_,r.a.Dart.variableDB_.reset(),(a.join("\n")+"\n\n"+e.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+t}},function(t,a,e){"use strict";var n=e(0),r=e.n(n),i=r.a.goog;i.provide("Blockly.Lua.math"),i.require("Blockly.Lua"),r.a.Lua.math_number=function(t){var a=parseFloat(t.getFieldValue("NUM"));return[a,a<0?r.a.Lua.ORDER_UNARY:r.a.Lua.ORDER_ATOMIC]},r.a.Lua.math_arithmetic=function(t){var a={ADD:[" + ",r.a.Lua.ORDER_ADDITIVE],MINUS:[" - ",r.a.Lua.ORDER_ADDITIVE],MULTIPLY:[" * ",r.a.Lua.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",r.a.Lua.ORDER_MULTIPLICATIVE],POWER:[" ^ ",r.a.Lua.ORDER_EXPONENTIATION]},e=a[t.getFieldValue("OP")],n=e[0],i=e[1];return[(r.a.Lua.valueToCode(t,"A",i)||"0")+n+(r.a.Lua.valueToCode(t,"B",i)||"0"),i]},r.a.Lua.math_single=function(t){var a,e,n=t.getFieldValue("OP");if("NEG"==n)return e=r.a.Lua.valueToCode(t,"NUM",r.a.Lua.ORDER_UNARY)||"0",["-"+e,r.a.Lua.ORDER_UNARY];switch(e="SIN"==n||"COS"==n||"TAN"==n?r.a.Lua.valueToCode(t,"NUM",r.a.Lua.ORDER_MULTIPLICATIVE)||"0":r.a.Lua.valueToCode(t,"NUM",r.a.Lua.ORDER_NONE)||"0",n){case"ABS":a="math.abs("+e+")";break;case"ROOT":a="math.sqrt("+e+")";break;case"LN":a="math.log("+e+")";break;case"LOG10":a="math.log10("+e+")";break;case"EXP":a="math.exp("+e+")";break;case"POW10":a="math.pow(10,"+e+")";break;case"ROUND":a="math.floor("+e+" + .5)";break;case"ROUNDUP":a="math.ceil("+e+")";break;case"ROUNDDOWN":a="math.floor("+e+")";break;case"SIN":a="math.sin(math.rad("+e+"))";break;case"COS":a="math.cos(math.rad("+e+"))";break;case"TAN":a="math.tan(math.rad("+e+"))";break;case"ASIN":a="math.deg(math.asin("+e+"))";break;case"ACOS":a="math.deg(math.acos("+e+"))";break;case"ATAN":a="math.deg(math.atan("+e+"))";break;default:throw"Unknown math operator: "+n}return[a,r.a.Lua.ORDER_HIGH]},r.a.Lua.math_constant=function(t){return{PI:["math.pi",r.a.Lua.ORDER_HIGH],E:["math.exp(1)",r.a.Lua.ORDER_HIGH],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",r.a.Lua.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",r.a.Lua.ORDER_HIGH],SQRT1_2:["math.sqrt(1 / 2)",r.a.Lua.ORDER_HIGH],INFINITY:["math.huge",r.a.Lua.ORDER_HIGH]}[t.getFieldValue("CONSTANT")]},r.a.Lua.math_number_property=function(t){var a,e=r.a.Lua.valueToCode(t,"NUMBER_TO_CHECK",r.a.Lua.ORDER_MULTIPLICATIVE)||"0",n=t.getFieldValue("PROPERTY");if("PRIME"==n){return a=r.a.Lua.provideFunction_("math_isPrime",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(n)","  -- https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if n == 2 or n == 3 then","    return true","  end","  -- False if n is NaN, negative, is 1, or not whole.","  -- And false if n is divisible by 2 or 3.","  if not(n > 1) or n % 1 ~= 0 or n % 2 == 0 or n % 3 == 0 then","    return false","  end","  -- Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x = 6, math.sqrt(n) + 1.5, 6 do","    if n % (x - 1) == 0 or n % (x + 1) == 0 then","      return false","    end","  end","  return true","end"])+"("+e+")",[a,r.a.Lua.ORDER_HIGH]}switch(n){case"EVEN":a=e+" % 2 == 0";break;case"ODD":a=e+" % 2 == 1";break;case"WHOLE":a=e+" % 1 == 0";break;case"POSITIVE":a=e+" > 0";break;case"NEGATIVE":a=e+" < 0";break;case"DIVISIBLE_BY":var i=r.a.Lua.valueToCode(t,"DIVISOR",r.a.Lua.ORDER_MULTIPLICATIVE);if(!i||"0"==i)return["nil",r.a.Lua.ORDER_ATOMIC];a=e+" % "+i+" == 0"}return[a,r.a.Lua.ORDER_RELATIONAL]},r.a.Lua.math_change=function(t){var a=r.a.Lua.valueToCode(t,"DELTA",r.a.Lua.ORDER_ADDITIVE)||"0",e=r.a.Lua.variableDB_.getName(t.getFieldValue("VAR"),r.a.Variables.NAME_TYPE);return e+" = "+e+" + "+a+"\n"},r.a.Lua.math_round=r.a.Lua.math_single,r.a.Lua.math_trig=r.a.Lua.math_single,r.a.Lua.math_on_list=function(t){function a(){return r.a.Lua.provideFunction_("math_sum",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  local result = 0","  for _, v in ipairs(t) do","    result = result + v","  end","  return result","end"])}var e,n=t.getFieldValue("OP"),i=r.a.Lua.valueToCode(t,"LIST",r.a.Lua.ORDER_NONE)||"{}";switch(n){case"SUM":e=a();break;case"MIN":e=r.a.Lua.provideFunction_("math_min",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  if #t == 0 then","    return 0","  end","  local result = math.huge","  for _, v in ipairs(t) do","    if v < result then","      result = v","    end","  end","  return result","end"]);break;case"AVERAGE":e=r.a.Lua.provideFunction_("math_average",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  if #t == 0 then","    return 0","  end","  return "+a()+"(t) / #t","end"]);break;case"MAX":e=r.a.Lua.provideFunction_("math_max",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  if #t == 0 then","    return 0","  end","  local result = -math.huge","  for _, v in ipairs(t) do","    if v > result then","      result = v","    end","  end","  return result","end"]);break;case"MEDIAN":e=r.a.Lua.provideFunction_("math_median",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  -- Source: http://lua-users.org/wiki/SimpleStats","  if #t == 0 then","    return 0","  end","  local temp={}","  for _, v in ipairs(t) do",'    if type(v) == "number" then',"      table.insert(temp, v)","    end","  end","  table.sort(temp)","  if #temp % 2 == 0 then","    return (temp[#temp/2] + temp[(#temp/2)+1]) / 2","  else","    return temp[math.ceil(#temp/2)]","  end","end"]);break;case"MODE":e=r.a.Lua.provideFunction_("math_modes",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  -- Source: http://lua-users.org/wiki/SimpleStats","  local counts={}","  for _, v in ipairs(t) do","    if counts[v] == nil then","      counts[v] = 1","    else","      counts[v] = counts[v] + 1","    end","  end","  local biggestCount = 0","  for _, v  in pairs(counts) do","    if v > biggestCount then","      biggestCount = v","    end","  end","  local temp={}","  for k, v in pairs(counts) do","    if v == biggestCount then","      table.insert(temp, k)","    end","  end","  return temp","end"]);break;case"STD_DEV":e=r.a.Lua.provideFunction_("math_standard_deviation",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  local m","  local vm","  local total = 0","  local count = 0","  local result","  m = #t == 0 and 0 or "+a()+"(t) / #t","  for _, v in ipairs(t) do","    if type(v) == 'number' then","      vm = v - m","      total = total + (vm * vm)","      count = count + 1","    end","  end","  result = math.sqrt(total / (count-1))","  return result","end"]);break;case"RANDOM":e=r.a.Lua.provideFunction_("math_random_list",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(t)","  if #t == 0 then","    return nil","  end","  return t[math.random(#t)]","end"]);break;default:throw"Unknown operator: "+n}return[e+"("+i+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.math_modulo=function(t){return[(r.a.Lua.valueToCode(t,"DIVIDEND",r.a.Lua.ORDER_MULTIPLICATIVE)||"0")+" % "+(r.a.Lua.valueToCode(t,"DIVISOR",r.a.Lua.ORDER_MULTIPLICATIVE)||"0"),r.a.Lua.ORDER_MULTIPLICATIVE]},r.a.Lua.math_constrain=function(t){return["math.min(math.max("+(r.a.Lua.valueToCode(t,"VALUE",r.a.Lua.ORDER_NONE)||"0")+", "+(r.a.Lua.valueToCode(t,"LOW",r.a.Lua.ORDER_NONE)||"-math.huge")+"), "+(r.a.Lua.valueToCode(t,"HIGH",r.a.Lua.ORDER_NONE)||"math.huge")+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.math_random_int=function(t){return["math.random("+(r.a.Lua.valueToCode(t,"FROM",r.a.Lua.ORDER_NONE)||"0")+", "+(r.a.Lua.valueToCode(t,"TO",r.a.Lua.ORDER_NONE)||"0")+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.math_random_float=function(t){return["math.random()",r.a.Lua.ORDER_HIGH]},i.provide("Blockly.Dart.math"),i.require("Blockly.Dart"),r.a.Dart.addReservedWords("Math"),r.a.Dart.math_number=function(t){var a,e=parseFloat(t.getFieldValue("NUM"));return e==1/0?(e="double.INFINITY",a=r.a.Dart.ORDER_UNARY_POSTFIX):e==-1/0?(e="-double.INFINITY",a=r.a.Dart.ORDER_UNARY_PREFIX):a=e<0?r.a.Dart.ORDER_UNARY_PREFIX:r.a.Dart.ORDER_ATOMIC,[e,a]},r.a.Dart.math_arithmetic=function(t){var a,e={ADD:[" + ",r.a.Dart.ORDER_ADDITIVE],MINUS:[" - ",r.a.Dart.ORDER_ADDITIVE],MULTIPLY:[" * ",r.a.Dart.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",r.a.Dart.ORDER_MULTIPLICATIVE],POWER:[null,r.a.Dart.ORDER_NONE]},n=e[t.getFieldValue("OP")],i=n[0],o=n[1],u=r.a.Dart.valueToCode(t,"A",o)||"0",l=r.a.Dart.valueToCode(t,"B",o)||"0";return i?(a=u+i+l,[a,o]):(r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;",a="Math.pow("+u+", "+l+")",[a,r.a.Dart.ORDER_UNARY_POSTFIX])},r.a.Dart.math_single=function(t){var a,e,n=t.getFieldValue("OP");if("NEG"==n)return e=r.a.Dart.valueToCode(t,"NUM",r.a.Dart.ORDER_UNARY_PREFIX)||"0","-"==e[0]&&(e=" "+e),a="-"+e,[a,r.a.Dart.ORDER_UNARY_PREFIX];switch(r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;",e="ABS"==n||"ROUND"==n.substring(0,5)?r.a.Dart.valueToCode(t,"NUM",r.a.Dart.ORDER_UNARY_POSTFIX)||"0":"SIN"==n||"COS"==n||"TAN"==n?r.a.Dart.valueToCode(t,"NUM",r.a.Dart.ORDER_MULTIPLICATIVE)||"0":r.a.Dart.valueToCode(t,"NUM",r.a.Dart.ORDER_NONE)||"0",n){case"ABS":a=e+".abs()";break;case"ROOT":a="Math.sqrt("+e+")";break;case"LN":a="Math.log("+e+")";break;case"EXP":a="Math.exp("+e+")";break;case"POW10":a="Math.pow(10,"+e+")";break;case"ROUND":a=e+".round()";break;case"ROUNDUP":a=e+".ceil()";break;case"ROUNDDOWN":a=e+".floor()";break;case"SIN":a="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":a="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":a="Math.tan("+e+" / 180 * Math.PI)"}if(a)return[a,r.a.Dart.ORDER_UNARY_POSTFIX];switch(n){case"LOG10":a="Math.log("+e+") / Math.log(10)";break;case"ASIN":a="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":a="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":a="Math.atan("+e+") / Math.PI * 180";break;default:throw"Unknown math operator: "+n}return[a,r.a.Dart.ORDER_MULTIPLICATIVE]},r.a.Dart.math_constant=function(t){var a={PI:["Math.PI",r.a.Dart.ORDER_UNARY_POSTFIX],E:["Math.E",r.a.Dart.ORDER_UNARY_POSTFIX],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",r.a.Dart.ORDER_MULTIPLICATIVE],SQRT2:["Math.SQRT2",r.a.Dart.ORDER_UNARY_POSTFIX],SQRT1_2:["Math.SQRT1_2",r.a.Dart.ORDER_UNARY_POSTFIX],INFINITY:["double.INFINITY",r.a.Dart.ORDER_ATOMIC]},e=t.getFieldValue("CONSTANT");return"INFINITY"!=e&&(r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;"),a[e]},r.a.Dart.math_number_property=function(t){var a=r.a.Dart.valueToCode(t,"NUMBER_TO_CHECK",r.a.Dart.ORDER_MULTIPLICATIVE);if(!a)return["false",r.a.Python.ORDER_ATOMIC];var e,n=t.getFieldValue("PROPERTY");if("PRIME"==n){r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";return e=r.a.Dart.provideFunction_("math_isPrime",["bool "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is null, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (n == null || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+a+")",[e,r.a.Dart.ORDER_UNARY_POSTFIX]}switch(n){case"EVEN":e=a+" % 2 == 0";break;case"ODD":e=a+" % 2 == 1";break;case"WHOLE":e=a+" % 1 == 0";break;case"POSITIVE":e=a+" > 0";break;case"NEGATIVE":e=a+" < 0";break;case"DIVISIBLE_BY":var i=r.a.Dart.valueToCode(t,"DIVISOR",r.a.Dart.ORDER_MULTIPLICATIVE);if(!i)return["false",r.a.Python.ORDER_ATOMIC];e=a+" % "+i+" == 0"}return[e,r.a.Dart.ORDER_EQUALITY]},r.a.Dart.math_change=function(t){var a=r.a.Dart.valueToCode(t,"DELTA",r.a.Dart.ORDER_ADDITIVE)||"0",e=r.a.Dart.variableDB_.getName(t.getFieldValue("VAR"),r.a.Variables.NAME_TYPE);return e+" = ("+e+" is num ? "+e+" : 0) + "+a+";\n"},r.a.Dart.math_round=r.a.Dart.math_single,r.a.Dart.math_trig=r.a.Dart.math_single,r.a.Dart.math_on_list=function(t){var a,e=t.getFieldValue("OP"),n=r.a.Dart.valueToCode(t,"LIST",r.a.Dart.ORDER_NONE)||"[]";switch(e){case"SUM":var i=r.a.Dart.provideFunction_("math_sum",["num "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List myList) {","  num sumVal = 0;","  myList.forEach((num entry) {sumVal += entry;});","  return sumVal;","}"]);a=i+"("+n+")";break;case"MIN":r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";var i=r.a.Dart.provideFunction_("math_min",["num "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List myList) {","  if (myList.isEmpty) return null;","  num minVal = myList[0];","  myList.forEach((num entry) {minVal = Math.min(minVal, entry);});","  return minVal;","}"]);a=i+"("+n+")";break;case"MAX":r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";var i=r.a.Dart.provideFunction_("math_max",["num "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List myList) {","  if (myList.isEmpty) return null;","  num maxVal = myList[0];","  myList.forEach((num entry) {maxVal = Math.max(maxVal, entry);});","  return maxVal;","}"]);a=i+"("+n+")";break;case"AVERAGE":var i=r.a.Dart.provideFunction_("math_mean",["num "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List myList) {","  // First filter list for numbers only.","  List localList = new List.from(myList);","  localList.removeWhere((a) => a is! num);","  if (localList.isEmpty) return null;","  num sumVal = 0;","  localList.forEach((num entry) {sumVal += entry;});","  return sumVal / localList.length;","}"]);a=i+"("+n+")";break;case"MEDIAN":var i=r.a.Dart.provideFunction_("math_median",["num "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List myList) {","  // First filter list for numbers only, then sort, then return middle value","  // or the average of two middle values if list has an even number of elements.","  List localList = new List.from(myList);","  localList.removeWhere((a) => a is! num);","  if (localList.isEmpty) return null;","  localList.sort((a, b) => (a - b));","  int index = localList.length ~/ 2;","  if (localList.length % 2 == 1) {","    return localList[index];","  } else {","    return (localList[index - 1] + localList[index]) / 2;","  }","}"]);a=i+"("+n+")";break;case"MODE":r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";var i=r.a.Dart.provideFunction_("math_modes",["List "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List values) {","  List modes = [];","  List counts = [];","  int maxCount = 0;","  for (int i = 0; i < values.length; i++) {","    var value = values[i];","    bool found = false;","    int thisCount;","    for (int j = 0; j < counts.length; j++) {","      if (counts[j][0] == value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.add([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (int j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.add(counts[j][0]);","    }","  }","  return modes;","}"]);a=i+"("+n+")";break;case"STD_DEV":r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";var i=r.a.Dart.provideFunction_("math_standard_deviation",["num "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List myList) {","  // First filter list for numbers only.","  List numbers = new List.from(myList);","  numbers.removeWhere((a) => a is! num);","  if (numbers.isEmpty) return null;","  num n = numbers.length;","  num sum = 0;","  numbers.forEach((x) => sum += x);","  num mean = sum / n;","  num sumSquare = 0;","  numbers.forEach((x) => sumSquare += Math.pow(x - mean, 2));","  return Math.sqrt(sumSquare / n);","}"]);a=i+"("+n+")";break;case"RANDOM":r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";var i=r.a.Dart.provideFunction_("math_random_item",["dynamic "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(List myList) {","  int x = new Math.Random().nextInt(myList.length);","  return myList[x];","}"]);a=i+"("+n+")";break;default:throw"Unknown operator: "+e}return[a,r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.math_modulo=function(t){return[(r.a.Dart.valueToCode(t,"DIVIDEND",r.a.Dart.ORDER_MULTIPLICATIVE)||"0")+" % "+(r.a.Dart.valueToCode(t,"DIVISOR",r.a.Dart.ORDER_MULTIPLICATIVE)||"0"),r.a.Dart.ORDER_MULTIPLICATIVE]},r.a.Dart.math_constrain=function(t){return r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;",["Math.min(Math.max("+(r.a.Dart.valueToCode(t,"VALUE",r.a.Dart.ORDER_NONE)||"0")+", "+(r.a.Dart.valueToCode(t,"LOW",r.a.Dart.ORDER_NONE)||"0")+"), "+(r.a.Dart.valueToCode(t,"HIGH",r.a.Dart.ORDER_NONE)||"double.INFINITY")+")",r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.math_random_int=function(t){r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";var a=r.a.Dart.valueToCode(t,"FROM",r.a.Dart.ORDER_NONE)||"0",e=r.a.Dart.valueToCode(t,"TO",r.a.Dart.ORDER_NONE)||"0";return[r.a.Dart.provideFunction_("math_random_int",["int "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(num a, num b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    num c = a;","    a = b;","    b = c;","  }","  return new Math.Random().nextInt(b - a + 1) + a;","}"])+"("+a+", "+e+")",r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.math_random_float=function(t){return r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;",["new Math.Random().nextDouble()",r.a.Dart.ORDER_UNARY_POSTFIX]},i.provide("Blockly.JavaScript.math"),i.require("Blockly.JavaScript"),r.a.JavaScript.math_number=function(t){return[parseFloat(t.getFieldValue("NUM")),r.a.JavaScript.ORDER_ATOMIC]},r.a.JavaScript.math_arithmetic=function(t){var a,e={ADD:[" + ",r.a.JavaScript.ORDER_ADDITION],MINUS:[" - ",r.a.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",r.a.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",r.a.JavaScript.ORDER_DIVISION],POWER:[null,r.a.JavaScript.ORDER_COMMA]},n=e[t.getFieldValue("OP")],i=n[0],o=n[1],u=r.a.JavaScript.valueToCode(t,"A",o)||"0",l=r.a.JavaScript.valueToCode(t,"B",o)||"0";return i?(a=u+i+l,[a,o]):(a="Math.pow("+u+", "+l+")",[a,r.a.JavaScript.ORDER_FUNCTION_CALL])},r.a.JavaScript.math_single=function(t){var a,e,n=t.getFieldValue("OP");if("NEG"==n)return e=r.a.JavaScript.valueToCode(t,"NUM",r.a.JavaScript.ORDER_UNARY_NEGATION)||"0","-"==e[0]&&(e=" "+e),a="-"+e,[a,r.a.JavaScript.ORDER_UNARY_NEGATION];switch(e="SIN"==n||"COS"==n||"TAN"==n?r.a.JavaScript.valueToCode(t,"NUM",r.a.JavaScript.ORDER_DIVISION)||"0":r.a.JavaScript.valueToCode(t,"NUM",r.a.JavaScript.ORDER_NONE)||"0",n){case"ABS":a="Math.abs("+e+")";break;case"ROOT":a="Math.sqrt("+e+")";break;case"LN":a="Math.log("+e+")";break;case"EXP":a="Math.exp("+e+")";break;case"POW10":a="Math.pow(10,"+e+")";break;case"ROUND":a="Math.round("+e+")";break;case"ROUNDUP":a="Math.ceil("+e+")";break;case"ROUNDDOWN":a="Math.floor("+e+")";break;case"SIN":a="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":a="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":a="Math.tan("+e+" / 180 * Math.PI)"}if(a)return[a,r.a.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"LOG10":a="Math.log("+e+") / Math.log(10)";break;case"ASIN":a="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":a="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":a="Math.atan("+e+") / Math.PI * 180";break;default:throw"Unknown math operator: "+n}return[a,r.a.JavaScript.ORDER_DIVISION]},r.a.JavaScript.math_constant=function(t){return{PI:["Math.PI",r.a.JavaScript.ORDER_MEMBER],E:["Math.E",r.a.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",r.a.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",r.a.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",r.a.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",r.a.JavaScript.ORDER_ATOMIC]}[t.getFieldValue("CONSTANT")]},r.a.JavaScript.math_number_property=function(t){var a,e=r.a.JavaScript.valueToCode(t,"NUMBER_TO_CHECK",r.a.JavaScript.ORDER_MODULUS)||"0",n=t.getFieldValue("PROPERTY");if("PRIME"==n){return a=r.a.JavaScript.provideFunction_("mathIsPrime",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+e+")",[a,r.a.JavaScript.ORDER_FUNCTION_CALL]}switch(n){case"EVEN":a=e+" % 2 == 0";break;case"ODD":a=e+" % 2 == 1";break;case"WHOLE":a=e+" % 1 == 0";break;case"POSITIVE":a=e+" > 0";break;case"NEGATIVE":a=e+" < 0";break;case"DIVISIBLE_BY":a=e+" % "+(r.a.JavaScript.valueToCode(t,"DIVISOR",r.a.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[a,r.a.JavaScript.ORDER_EQUALITY]},r.a.JavaScript.math_change=function(t){var a=r.a.JavaScript.valueToCode(t,"DELTA",r.a.JavaScript.ORDER_ADDITION)||"0",e=r.a.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),r.a.Variables.NAME_TYPE);return e+" = (typeof "+e+" == 'number' ? "+e+" : 0) + "+a+";\n"},r.a.JavaScript.math_round=r.a.JavaScript.math_single,r.a.JavaScript.math_trig=r.a.JavaScript.math_single,r.a.JavaScript.math_on_list=function(t){var a,e,n=t.getFieldValue("OP");switch(n){case"SUM":a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_MEMBER)||"[]",e=a+".reduce(function(x, y) {return x + y;})";break;case"MIN":a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_COMMA)||"[]",e="Math.min.apply(null, "+a+")";break;case"MAX":a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_COMMA)||"[]",e="Math.max.apply(null, "+a+")";break;case"AVERAGE":var i=r.a.JavaScript.provideFunction_("mathMean",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_NONE)||"[]",e=i+"("+a+")";break;case"MEDIAN":var i=r.a.JavaScript.provideFunction_("mathMedian",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_NONE)||"[]",e=i+"("+a+")";break;case"MODE":var i=r.a.JavaScript.provideFunction_("mathModes",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_NONE)||"[]",e=i+"("+a+")";break;case"STD_DEV":var i=r.a.JavaScript.provideFunction_("mathStandardDeviation",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_NONE)||"[]",e=i+"("+a+")";break;case"RANDOM":var i=r.a.JavaScript.provideFunction_("mathRandomList",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=r.a.JavaScript.valueToCode(t,"LIST",r.a.JavaScript.ORDER_NONE)||"[]",e=i+"("+a+")";break;default:throw"Unknown operator: "+n}return[e,r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.math_modulo=function(t){return[(r.a.JavaScript.valueToCode(t,"DIVIDEND",r.a.JavaScript.ORDER_MODULUS)||"0")+" % "+(r.a.JavaScript.valueToCode(t,"DIVISOR",r.a.JavaScript.ORDER_MODULUS)||"0"),r.a.JavaScript.ORDER_MODULUS]},r.a.JavaScript.math_constrain=function(t){return["Math.min(Math.max("+(r.a.JavaScript.valueToCode(t,"VALUE",r.a.JavaScript.ORDER_COMMA)||"0")+", "+(r.a.JavaScript.valueToCode(t,"LOW",r.a.JavaScript.ORDER_COMMA)||"0")+"), "+(r.a.JavaScript.valueToCode(t,"HIGH",r.a.JavaScript.ORDER_COMMA)||"Infinity")+")",r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.math_random_int=function(t){var a=r.a.JavaScript.valueToCode(t,"FROM",r.a.JavaScript.ORDER_COMMA)||"0",e=r.a.JavaScript.valueToCode(t,"TO",r.a.JavaScript.ORDER_COMMA)||"0";return[r.a.JavaScript.provideFunction_("mathRandomInt",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+a+", "+e+")",r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.math_random_float=function(t){return["Math.random()",r.a.JavaScript.ORDER_FUNCTION_CALL]}},function(t,a,e){"use strict";var n=e(0),r=e.n(n),i=r.a.goog;i.provide("Blockly.Lua.texts"),i.require("Blockly.Lua"),r.a.Lua.text=function(t){return[r.a.Lua.quote_(t.getFieldValue("TEXT")),r.a.Lua.ORDER_ATOMIC]},r.a.Lua.text_join=function(t){if(0==t.itemCount_)return["''",r.a.Lua.ORDER_ATOMIC];if(1==t.itemCount_){var a=r.a.Lua.valueToCode(t,"ADD0",r.a.Lua.ORDER_NONE)||"''",e="tostring("+a+")";return[e,r.a.Lua.ORDER_HIGH]}if(2==t.itemCount_){var n=r.a.Lua.valueToCode(t,"ADD0",r.a.Lua.ORDER_CONCATENATION)||"''",i=r.a.Lua.valueToCode(t,"ADD1",r.a.Lua.ORDER_CONCATENATION)||"''",e=n+" .. "+i;return[e,r.a.Lua.ORDER_CONCATENATION]}for(var o=[],u=0;u<t.itemCount_;u++)o[u]=r.a.Lua.valueToCode(t,"ADD"+u,r.a.Lua.ORDER_NONE)||"''";var e="table.concat({"+o.join(", ")+"})";return[e,r.a.Lua.ORDER_HIGH]},r.a.Lua.text_append=function(t){var a=r.a.Lua.variableDB_.getName(t.getFieldValue("VAR"),r.a.Variables.NAME_TYPE);return a+" = "+a+" .. "+(r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_CONCATENATION)||"''")+"\n"},r.a.Lua.text_length=function(t){return["#"+(r.a.Lua.valueToCode(t,"VALUE",r.a.Lua.ORDER_UNARY)||"''"),r.a.Lua.ORDER_UNARY]},r.a.Lua.text_isEmpty=function(t){return["#"+(r.a.Lua.valueToCode(t,"VALUE",r.a.Lua.ORDER_UNARY)||"''")+" == 0",r.a.Lua.ORDER_RELATIONAL]},r.a.Lua.text_indexOf=function(t){var a=r.a.Lua.valueToCode(t,"FIND",r.a.Lua.ORDER_NONE)||"''",e=r.a.Lua.valueToCode(t,"VALUE",r.a.Lua.ORDER_NONE)||"''";if("FIRST"==t.getFieldValue("END"))var n=r.a.Lua.provideFunction_("firstIndexOf",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(str, substr) ","  local i = string.find(str, substr, 1, true)","  if i == nil then","    return 0","  else","    return i","  end","end"]);else var n=r.a.Lua.provideFunction_("lastIndexOf",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(str, substr)","  local i = string.find(string.reverse(str), string.reverse(substr), 1, true)","  if i then","    return #str + 2 - i - #substr","  end","  return 0","end"]);return[n+"("+e+", "+a+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.text_charAt=function(t){var a,e=t.getFieldValue("WHERE")||"FROM_START",n="FROM_END"==e?r.a.Lua.ORDER_UNARY:r.a.Lua.ORDER_NONE,i=r.a.Lua.valueToCode(t,"AT",n)||"1",o=r.a.Lua.valueToCode(t,"VALUE",r.a.Lua.ORDER_NONE)||"''";if("RANDOM"==e){var u=r.a.Lua.provideFunction_("text_random_letter",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(str)","  local index = math.random(string.len(str))","  return string.sub(str, index, index)","end"]);a=u+"("+o+")"}else{if("FIRST"==e)var l="1";else if("LAST"==e)var l="-1";else if("FROM_START"==e)var l=i;else{if("FROM_END"!=e)throw"Unhandled option (text_charAt).";var l="-"+i}if(l.match(/^-?\w*$/))a="string.sub("+o+", "+l+", "+l+")";else{var u=r.a.Lua.provideFunction_("text_char_at",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(str, index)","  return string.sub(str, index, index)","end"]);a=u+"("+o+", "+l+")"}}return[a,r.a.Lua.ORDER_HIGH]},r.a.Lua.text_getSubstring=function(t){var a=r.a.Lua.valueToCode(t,"STRING",r.a.Lua.ORDER_NONE)||"''",e=t.getFieldValue("WHERE1"),n="FROM_END"==e?r.a.Lua.ORDER_UNARY:r.a.Lua.ORDER_NONE,i=r.a.Lua.valueToCode(t,"AT1",n)||"1";if("FIRST"==e)var o=1;else if("FROM_START"==e)var o=i;else{if("FROM_END"!=e)throw"Unhandled option (text_getSubstring)";var o="-"+i}var u=t.getFieldValue("WHERE2"),l="FROM_END"==u?r.a.Lua.ORDER_UNARY:r.a.Lua.ORDER_NONE,c=r.a.Lua.valueToCode(t,"AT2",l)||"1";if("LAST"==u)var s=-1;else if("FROM_START"==u)var s=c;else{if("FROM_END"!=u)throw"Unhandled option (text_getSubstring)";var s="-"+c}return["string.sub("+a+", "+o+", "+s+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.text_changeCase=function(t){var a=t.getFieldValue("CASE"),e=r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_NONE)||"''";if("UPPERCASE"==a)var n="string.upper";else if("LOWERCASE"==a)var n="string.lower";else if("TITLECASE"==a)var n=r.a.Lua.provideFunction_("text_titlecase",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(str)","  local buf = {}","  local inWord = false","  for i = 1, #str do","    local c = string.sub(str, i, i)","    if inWord then","      table.insert(buf, string.lower(c))",'      if string.find(c, "%s") then',"        inWord = false","      end","    else","      table.insert(buf, string.upper(c))","      inWord = true","    end","  end","  return table.concat(buf)","end"]);return[n+"("+e+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.text_trim=function(t){var a={LEFT:"^%s*(,-)",RIGHT:"(.-)%s*$",BOTH:"^%s*(.-)%s*$"},e=a[t.getFieldValue("MODE")];return["string.gsub("+(r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_NONE)||"''")+', "'+e+'", "%1")',r.a.Lua.ORDER_HIGH]},r.a.Lua.text_print=function(t){return"print("+(r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_NONE)||"''")+")\n"},r.a.Lua.text_prompt_ext=function(t){if(t.getField("TEXT"))var a=r.a.Lua.quote_(t.getFieldValue("TEXT"));else var a=r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_NONE)||"''";var e=r.a.Lua.provideFunction_("text_prompt",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(msg)","  io.write(msg)","  io.flush()","  return io.read()","end"]),n=e+"("+a+")";return"NUMBER"==t.getFieldValue("TYPE")&&(n="tonumber("+n+", 10)"),[n,r.a.Lua.ORDER_HIGH]},r.a.Lua.text_prompt=r.a.Lua.text_prompt_ext,r.a.Lua.text_count=function(t){var a=r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_NONE)||"''",e=r.a.Lua.valueToCode(t,"SUB",r.a.Lua.ORDER_NONE)||"''";return[r.a.Lua.provideFunction_("text_count",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle)","  if #needle == 0 then","    return #haystack + 1","  end","  local i = 1","  local count = 0","  while true do","    i = string.find(haystack, needle, i, true)","    if i == nil then","      break","    end","    count = count + 1","    i = i + #needle","  end","  return count","end"])+"("+a+", "+e+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.text_replace=function(t){var a=r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_NONE)||"''",e=r.a.Lua.valueToCode(t,"FROM",r.a.Lua.ORDER_NONE)||"''",n=r.a.Lua.valueToCode(t,"TO",r.a.Lua.ORDER_NONE)||"''";return[r.a.Lua.provideFunction_("text_replace",["function "+r.a.Lua.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement)","  local buf = {}","  local i = 1","  while i <= #haystack do","    if string.sub(haystack, i, i + #needle - 1) == needle then","      for j = 1, #replacement do","        table.insert(buf, string.sub(replacement, j, j))","      end","      i = i + #needle","    else","      table.insert(buf, string.sub(haystack, i, i))","      i = i + 1","    end","  end","  return table.concat(buf)","end"])+"("+a+", "+e+", "+n+")",r.a.Lua.ORDER_HIGH]},r.a.Lua.text_reverse=function(t){return["string.reverse("+(r.a.Lua.valueToCode(t,"TEXT",r.a.Lua.ORDER_HIGH)||"''")+")",r.a.Lua.ORDER_HIGH]},i.provide("Blockly.Dart.texts"),i.require("Blockly.Dart"),r.a.Dart.addReservedWords("Html,Math"),r.a.Dart.text=function(t){return[r.a.Dart.quote_(t.getFieldValue("TEXT")),r.a.Dart.ORDER_ATOMIC]},r.a.Dart.text_join=function(t){switch(t.itemCount_){case 0:return["''",r.a.Dart.ORDER_ATOMIC];case 1:var a=r.a.Dart.valueToCode(t,"ADD0",r.a.Dart.ORDER_UNARY_POSTFIX)||"''",e=a+".toString()";return[e,r.a.Dart.ORDER_UNARY_POSTFIX];default:for(var n=new Array(t.itemCount_),i=0;i<t.itemCount_;i++)n[i]=r.a.Dart.valueToCode(t,"ADD"+i,r.a.Dart.ORDER_NONE)||"''";var e="["+n.join(",")+"].join()";return[e,r.a.Dart.ORDER_UNARY_POSTFIX]}},r.a.Dart.text_append=function(t){var a=r.a.Dart.variableDB_.getName(t.getFieldValue("VAR"),r.a.Variables.NAME_TYPE);return a+" = ["+a+", "+(r.a.Dart.valueToCode(t,"TEXT",r.a.Dart.ORDER_NONE)||"''")+"].join();\n"},r.a.Dart.text_length=function(t){return[(r.a.Dart.valueToCode(t,"VALUE",r.a.Dart.ORDER_UNARY_POSTFIX)||"''")+".length",r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_isEmpty=function(t){return[(r.a.Dart.valueToCode(t,"VALUE",r.a.Dart.ORDER_UNARY_POSTFIX)||"''")+".isEmpty",r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_indexOf=function(t){var a="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",e=r.a.Dart.valueToCode(t,"FIND",r.a.Dart.ORDER_NONE)||"''",n=r.a.Dart.valueToCode(t,"VALUE",r.a.Dart.ORDER_UNARY_POSTFIX)||"''",i=n+"."+a+"("+e+")";return t.workspace.options.oneBasedIndex?[i+" + 1",r.a.Dart.ORDER_ADDITIVE]:[i,r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_charAt=function(t){var a=t.getFieldValue("WHERE")||"FROM_START",e=r.a.Dart.valueToCode(t,"VALUE",r.a.Dart.ORDER_UNARY_POSTFIX)||"''";switch(a){case"FIRST":var n=e+"[0]";return[n,r.a.Dart.ORDER_UNARY_POSTFIX];case"FROM_START":var i=r.a.Dart.getAdjusted(t,"AT"),n=e+"["+i+"]";return[n,r.a.Dart.ORDER_UNARY_POSTFIX];case"LAST":i=1;case"FROM_END":var i=r.a.Dart.getAdjusted(t,"AT",1),o=r.a.Dart.provideFunction_("text_get_from_end",["String "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(String text, num x) {","  return text[text.length - x];","}"]);return n=o+"("+e+", "+i+")",[n,r.a.Dart.ORDER_UNARY_POSTFIX];case"RANDOM":r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;";var o=r.a.Dart.provideFunction_("text_random_letter",["String "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(String text) {","  int x = new Math.Random().nextInt(text.length);","  return text[x];","}"]);return n=o+"("+e+")",[n,r.a.Dart.ORDER_UNARY_POSTFIX]}throw"Unhandled option (text_charAt)."},r.a.Dart.text_getSubstring=function(t){var a=r.a.Dart.valueToCode(t,"STRING",r.a.Dart.ORDER_UNARY_POSTFIX)||"''",e=t.getFieldValue("WHERE1"),n=t.getFieldValue("WHERE2");if("FIRST"==e&&"LAST"==n)var i=a;else if(a.match(/^'?\w+'?$/)||"FROM_END"!=e&&"FROM_START"==n){switch(e){case"FROM_START":var o=r.a.Dart.getAdjusted(t,"AT1");break;case"FROM_END":var o=r.a.Dart.getAdjusted(t,"AT1",1,!1,r.a.Dart.ORDER_ADDITIVE);o=a+".length - "+o;break;case"FIRST":var o="0";break;default:throw"Unhandled option (text_getSubstring)."}switch(n){case"FROM_START":var u=r.a.Dart.getAdjusted(t,"AT2",1);break;case"FROM_END":var u=r.a.Dart.getAdjusted(t,"AT2",0,!1,r.a.Dart.ORDER_ADDITIVE);u=a+".length - "+u;break;case"LAST":break;default:throw"Unhandled option (text_getSubstring)."}if("LAST"==n)var i=a+".substring("+o+")";else var i=a+".substring("+o+", "+u+")"}else var o=r.a.Dart.getAdjusted(t,"AT1"),u=r.a.Dart.getAdjusted(t,"AT2"),l=r.a.Dart.provideFunction_("text_get_substring",["List "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(text, where1, at1, where2, at2) {","  int getAt(where, at) {","    if (where == 'FROM_END') {","      at = text.length - 1 - at;","    } else if (where == 'FIRST') {","      at = 0;","    } else if (where == 'LAST') {","      at = text.length - 1;","    } else if (where != 'FROM_START') {","      throw 'Unhandled option (text_getSubstring).';","    }","    return at;","  }","  at1 = getAt(where1, at1);","  at2 = getAt(where2, at2) + 1;","  return text.substring(at1, at2);","}"]),i=l+"("+a+", '"+e+"', "+o+", '"+n+"', "+u+")";return[i,r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_changeCase=function(t){var a={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null},e=a[t.getFieldValue("CASE")],n=e?r.a.Dart.ORDER_UNARY_POSTFIX:r.a.Dart.ORDER_NONE,i=r.a.Dart.valueToCode(t,"TEXT",n)||"''";if(e)var o=i+e;else var u=r.a.Dart.provideFunction_("text_toTitleCase",["String "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(String str) {","  RegExp exp = new RegExp(r'\\b');","  List<String> list = str.split(exp);","  final title = new StringBuffer();","  for (String part in list) {","    if (part.length > 0) {","      title.write(part[0].toUpperCase());","      if (part.length > 0) {","        title.write(part.substring(1).toLowerCase());","      }","    }","  }","  return title.toString();","}"]),o=u+"("+i+")";return[o,r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_trim=function(t){var a={LEFT:".replaceFirst(new RegExp(r'^\\s+'), '')",RIGHT:".replaceFirst(new RegExp(r'\\s+$'), '')",BOTH:".trim()"},e=a[t.getFieldValue("MODE")];return[(r.a.Dart.valueToCode(t,"TEXT",r.a.Dart.ORDER_UNARY_POSTFIX)||"''")+e,r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_print=function(t){return"print("+(r.a.Dart.valueToCode(t,"TEXT",r.a.Dart.ORDER_NONE)||"''")+");\n"},r.a.Dart.text_prompt_ext=function(t){if(r.a.Dart.definitions_.import_dart_html="import 'dart:html' as Html;",t.getField("TEXT"))var a=r.a.Dart.quote_(t.getFieldValue("TEXT"));else var a=r.a.Dart.valueToCode(t,"TEXT",r.a.Dart.ORDER_NONE)||"''";var e="Html.window.prompt("+a+", '')";return"NUMBER"==t.getFieldValue("TYPE")&&(r.a.Dart.definitions_.import_dart_math="import 'dart:math' as Math;",e="Math.parseDouble("+e+")"),[e,r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_prompt=r.a.Dart.text_prompt_ext,r.a.Dart.text_count=function(t){var a=r.a.Dart.valueToCode(t,"TEXT",r.a.Dart.ORDER_UNARY_POSTFIX)||"''",e=r.a.Dart.valueToCode(t,"SUB",r.a.Dart.ORDER_NONE)||"''";return[r.a.Dart.provideFunction_("text_count",["int "+r.a.Dart.FUNCTION_NAME_PLACEHOLDER_+"(String haystack, String needle) {","  if (needle.length == 0) {","    return haystack.length + 1;","  }","  int index = 0;","  int count = 0;","  while (index != -1) {","    index = haystack.indexOf(needle, index);","    if (index != -1) {","      count++;","     index += needle.length;","    }","  }","  return count;","}"])+"("+a+", "+e+")",r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_replace=function(t){return[(r.a.Dart.valueToCode(t,"TEXT",r.a.Dart.ORDER_UNARY_POSTFIX)||"''")+".replaceAll("+(r.a.Dart.valueToCode(t,"FROM",r.a.Dart.ORDER_NONE)||"''")+", "+(r.a.Dart.valueToCode(t,"TO",r.a.Dart.ORDER_NONE)||"''")+")",r.a.Dart.ORDER_UNARY_POSTFIX]},r.a.Dart.text_reverse=function(t){return["new String.fromCharCodes("+(r.a.Dart.valueToCode(t,"TEXT",r.a.Dart.ORDER_UNARY_POSTFIX)||"''")+".runes.toList().reversed)",r.a.Dart.ORDER_UNARY_POSTFIX]},i.provide("Blockly.JavaScript.texts"),i.require("Blockly.JavaScript"),r.a.JavaScript.text=function(t){return[r.a.JavaScript.quote_(t.getFieldValue("TEXT")),r.a.JavaScript.ORDER_ATOMIC]},r.a.JavaScript.text_join=function(t){switch(t.itemCount_){case 0:return["''",r.a.JavaScript.ORDER_ATOMIC];case 1:var a=r.a.JavaScript.valueToCode(t,"ADD0",r.a.JavaScript.ORDER_NONE)||"''",e="String("+a+")";return[e,r.a.JavaScript.ORDER_FUNCTION_CALL];case 2:var n=r.a.JavaScript.valueToCode(t,"ADD0",r.a.JavaScript.ORDER_NONE)||"''",i=r.a.JavaScript.valueToCode(t,"ADD1",r.a.JavaScript.ORDER_NONE)||"''",e="String("+n+") + String("+i+")";return[e,r.a.JavaScript.ORDER_ADDITION];default:for(var o=new Array(t.itemCount_),u=0;u<t.itemCount_;u++)o[u]=r.a.JavaScript.valueToCode(t,"ADD"+u,r.a.JavaScript.ORDER_COMMA)||"''";var e="["+o.join(",")+"].join('')";return[e,r.a.JavaScript.ORDER_FUNCTION_CALL]}},r.a.JavaScript.text_append=function(t){var a=r.a.JavaScript.variableDB_.getName(t.getFieldValue("VAR"),r.a.Variables.NAME_TYPE);return a+" = String("+a+") + String("+(r.a.JavaScript.valueToCode(t,"TEXT",r.a.JavaScript.ORDER_NONE)||"''")+");\n"},r.a.JavaScript.text_length=function(t){return[(r.a.JavaScript.valueToCode(t,"VALUE",r.a.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",r.a.JavaScript.ORDER_MEMBER]},r.a.JavaScript.text_isEmpty=function(t){return["!"+(r.a.JavaScript.valueToCode(t,"VALUE",r.a.JavaScript.ORDER_MEMBER)||"''")+".length",r.a.JavaScript.ORDER_LOGICAL_NOT]},r.a.JavaScript.text_indexOf=function(t){var a="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",e=r.a.JavaScript.valueToCode(t,"FIND",r.a.JavaScript.ORDER_NONE)||"''",n=r.a.JavaScript.valueToCode(t,"VALUE",r.a.JavaScript.ORDER_MEMBER)||"''",i=n+"."+a+"("+e+")";return t.workspace.options.oneBasedIndex?[i+" + 1",r.a.JavaScript.ORDER_ADDITION]:[i,r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.text_charAt=function(t){var a=t.getFieldValue("WHERE")||"FROM_START",e="RANDOM"==a?r.a.JavaScript.ORDER_NONE:r.a.JavaScript.ORDER_MEMBER,n=r.a.JavaScript.valueToCode(t,"VALUE",e)||"''";switch(a){case"FIRST":var i=n+".charAt(0)";return[i,r.a.JavaScript.ORDER_FUNCTION_CALL];case"LAST":var i=n+".slice(-1)";return[i,r.a.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":var o=r.a.JavaScript.getAdjusted(t,"AT"),i=n+".charAt("+o+")";return[i,r.a.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":var o=r.a.JavaScript.getAdjusted(t,"AT",1,!0),i=n+".slice("+o+").charAt(0)";return[i,r.a.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":var u=r.a.JavaScript.provideFunction_("textRandomLetter",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"]),i=u+"("+n+")";return[i,r.a.JavaScript.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt)."},r.a.JavaScript.text.getIndex_=function(t,a,e){return"FIRST"==a?"0":"FROM_END"==a?t+".length - 1 - "+e:"LAST"==a?t+".length - 1":e},r.a.JavaScript.text_getSubstring=function(t){var a=r.a.JavaScript.valueToCode(t,"STRING",r.a.JavaScript.ORDER_FUNCTION_CALL)||"''",e=t.getFieldValue("WHERE1"),n=t.getFieldValue("WHERE2");if("FIRST"==e&&"LAST"==n)var i=a;else if(a.match(/^'?\w+'?$/)||"FROM_END"!=e&&"LAST"!=e&&"FROM_END"!=n&&"LAST"!=n){switch(e){case"FROM_START":var o=r.a.JavaScript.getAdjusted(t,"AT1");break;case"FROM_END":var o=r.a.JavaScript.getAdjusted(t,"AT1",1,!1,r.a.JavaScript.ORDER_SUBTRACTION);o=a+".length - "+o;break;case"FIRST":var o="0";break;default:throw"Unhandled option (text_getSubstring)."}switch(n){case"FROM_START":var u=r.a.JavaScript.getAdjusted(t,"AT2",1);break;case"FROM_END":var u=r.a.JavaScript.getAdjusted(t,"AT2",0,!1,r.a.JavaScript.ORDER_SUBTRACTION);u=a+".length - "+u;break;case"LAST":var u=a+".length";break;default:throw"Unhandled option (text_getSubstring)."}i=a+".slice("+o+", "+u+")"}else var o=r.a.JavaScript.getAdjusted(t,"AT1"),u=r.a.JavaScript.getAdjusted(t,"AT2"),l=r.a.JavaScript.text.getIndex_,c={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},s=r.a.JavaScript.provideFunction_("subsequence"+c[e]+c[n],["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==e||"FROM_START"==e?", at1":"")+("FROM_END"==n||"FROM_START"==n?", at2":"")+") {","  var start = "+l("sequence",e,"at1")+";","  var end = "+l("sequence",n,"at2")+" + 1;","  return sequence.slice(start, end);","}"]),i=s+"("+a+("FROM_END"==e||"FROM_START"==e?", "+o:"")+("FROM_END"==n||"FROM_START"==n?", "+u:"")+")";return[i,r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.text_changeCase=function(t){var a={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null},e=a[t.getFieldValue("CASE")],n=e?r.a.JavaScript.ORDER_MEMBER:r.a.JavaScript.ORDER_NONE,i=r.a.JavaScript.valueToCode(t,"TEXT",n)||"''";if(e)var o=i+e;else var u=r.a.JavaScript.provideFunction_("textToTitleCase",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"]),o=u+"("+i+")";return[o,r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.text_trim=function(t){var a={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"},e=a[t.getFieldValue("MODE")];return[(r.a.JavaScript.valueToCode(t,"TEXT",r.a.JavaScript.ORDER_MEMBER)||"''")+e,r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.text_print=function(t){return"window.alert("+(r.a.JavaScript.valueToCode(t,"TEXT",r.a.JavaScript.ORDER_NONE)||"''")+");\n"},r.a.JavaScript.text_prompt_ext=function(t){if(t.getField("TEXT"))var a=r.a.JavaScript.quote_(t.getFieldValue("TEXT"));else var a=r.a.JavaScript.valueToCode(t,"TEXT",r.a.JavaScript.ORDER_NONE)||"''";var e="window.prompt("+a+")";return"NUMBER"==t.getFieldValue("TYPE")&&(e="parseFloat("+e+")"),[e,r.a.JavaScript.ORDER_FUNCTION_CALL]},r.a.JavaScript.text_prompt=r.a.JavaScript.text_prompt_ext,r.a.JavaScript.text_count=function(t){var a=r.a.JavaScript.valueToCode(t,"TEXT",r.a.JavaScript.ORDER_MEMBER)||"''",e=r.a.JavaScript.valueToCode(t,"SUB",r.a.JavaScript.ORDER_NONE)||"''";return[r.a.JavaScript.provideFunction_("textCount",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+a+", "+e+")",r.a.JavaScript.ORDER_SUBTRACTION]},r.a.JavaScript.text_replace=function(t){var a=r.a.JavaScript.valueToCode(t,"TEXT",r.a.JavaScript.ORDER_MEMBER)||"''",e=r.a.JavaScript.valueToCode(t,"FROM",r.a.JavaScript.ORDER_NONE)||"''",n=r.a.JavaScript.valueToCode(t,"TO",r.a.JavaScript.ORDER_NONE)||"''";return[r.a.JavaScript.provideFunction_("textReplace",["function "+r.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+a+", "+e+", "+n+")",r.a.JavaScript.ORDER_MEMBER]},r.a.JavaScript.text_reverse=function(t){return[(r.a.JavaScript.valueToCode(t,"TEXT",r.a.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",r.a.JavaScript.ORDER_MEMBER]}},function(t,a,e){"use strict";var n=e(0),r=e.n(n),i=r.a.goog;i.provide("Blockly.Lua.logic"),i.require("Blockly.Lua"),i.provide("Blockly.Dart.logic"),i.require("Blockly.Dart"),i.provide("Blockly.JavaScript.logic"),i.require("Blockly.JavaScript"),r.a.Lua.wait=function(t){var a=t.getFieldValue("seconds"),e=a;return a.length>4&&(e=a.substring(0,4)),1==a.length&&(e=a+".00"),3==a.length&&(e=a+"0"),4==a.length&&(e=a),"#S,"+e+";\n"},r.a.Dart.wait=function(t){var a=t.getFieldValue("seconds"),e=a;return a.length>4&&(e=a.substring(0,4)),"delay("+1e3*e+");\n"},r.a.JavaScript.wait=function(t){var a=t.getFieldValue("seconds"),e=a;return a.length>4&&(e=a.substring(0,4)),"sleep for "+e+"s\n"},r.a.Lua.motor=function(t){return"#M,"+t.getFieldValue("motorNumber")+","+t.getFieldValue("motorDirection")+","+t.getFieldValue("motorSpeed")+";\n"},r.a.Dart.motor=function(t){return"mMotor"+t.getFieldValue("motorNumber")+".setValues("+t.getFieldValue("motorDirection")+","+t.getFieldValue("motorSpeed")+");\n"},r.a.JavaScript.motor=function(t){var a=t.getFieldValue("motorNumber"),e=t.getFieldValue("motorDirection"),n=t.getFieldValue("motorSpeed");if(0==e)var r="set Engine on Port "+a+" to left-hand rotation and speed "+n+"\n";else var r="set Engine on Port "+a+" to right-hand rotation and speed "+n+"\n";return r},r.a.Lua.lamp=function(t){return"#L,"+t.getFieldValue("lampNumber")+","+t.getFieldValue("state")+";\n"},r.a.Dart.lamp=function(t){return"setLamp("+t.getFieldValue("lampNumber")+","+t.getFieldValue("state")+");\n"},r.a.JavaScript.lamp=function(t){return"set Lamp on Port "+t.getFieldValue("lampNumber")+" to brithness "+t.getFieldValue("state")+"\n"}},function(t,a,e){"use strict";e.d(a,"a",function(){return n});var n='<xml id="toolbox" style="display: none">\n        <category name="Basic">\n            <block type="start"></block>\n        </category>\n        <category name="Logic">\n            <block type="math_number"></block>\n            <block type="digital_logic_compare"></block>\n            <block type="analog_logic_compare"></block>\n        </category>\n\n        <category name="Actuator">\n            <block type="motor"></block>\n            <block type="lamp"></block>\n        </category>\n        <category name="Loops">\n            <block type="controls_repeat_ext">\n                <value name="TIMES">\n                    <block type="math_number">\n                        <field name="NUM">10</field>\n                    </block>\n                </value>\n            </block>\n            <block type="controls_whileuntil1"></block>\n        </category>\n        <category name="Branching">\n            <block type="controls_if1"></block>\n        </category>\n\n        <category name="Delay">\n            <block type="wait"></block>\n        </category>\n        <category name="Debuging">\n            <block type="text_print">\n                <value name="TEXT">\n                    <block type="text">\n                        <field name="TEXT">message</field>\n                    </block>\n                </value>\n            </block>\n        </category>\n        <category name="Examples">\n            <block type="start">\n               <value name="state">\n                    <block type="controls_whileuntil1">\n                        <value name="BOOL">\n                            <block type="digital_logic_compare">\n                                <field name="A">5</field>\n                                <field name="B">0</field>\n                            </block>\n                        </value>\n                        <statement name="DO">\n                            <block type="motor">\n                                <field name="motorNumber">0</field>\n                                <field name="motorDirection">1</field>\n                                <field name="motorSpeed">6</field>\n                                <next>\n                                    <block type="motor">\n                                        <field name="motorNumber">1</field>\n                                        <field name="motorDirection">1</field>\n                                        <field name="motorSpeed">6</field>\n                                        <next>\n                                            <block type="controls_if1">\n\t\t\t\t\t\t\t\t\t            <value name="IF0">\n\t\t\t\t\t\t\t\t\t\t            <block type="digital_logic_compare">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t                    <field name="A">3</field>\n\t\t\t\t\t\t\t\t\t\t                    <field name="B">1</field>\n\t\t\t\t\t\t\t\t\t\t            </block>                          \n\t\t\t\t\t\t\t\t\t            </value>\n\t\t\t\t\t\t\t\t\t            <statement name="DO0">\n\t\t\t\t\t\t\t\t\t                <block type="motor">\n                                                        <field name="motorNumber">0</field>\n                                                        <field name="motorDirection">0</field>\n                                                        <field name="motorSpeed">4</field>\n                                                        <next>\n                                                            <block type="motor">\n                                                                <field name="motorNumber">1</field>\n                                                                <field name="motorDirection">0</field>\n                                                                <field name="motorSpeed">4</field>\n                                                                <next>\n                                                                    <block type="wait">\n                                                                        <field name="seconds">0.5</field>\n                                                                        <next>\n                                                                            <block type="motor">\n                                                                                <field name="motorNumber">0</field>\n                                                                                <field name="motorDirection">1</field>\n                                                                                <field name="motorSpeed">4</field>\n                                                                                <next>\n                                                                                    <block type="motor">\n                                                                                        <field name="motorNumber">1</field>\n                                                                                        <field name="motorDirection">0</field>\n                                                                                        <field name="motorSpeed">4</field>\n                                                                                        <next> \n                                                                                            <block type="wait">\n                                                                                                <field name="seconds">0.4</field>\n                                                                                            </block>\n                                                                                        </next>\n                                                                                    </block>\n                                                                                </next>\n                                                                            </block>   \n                                                                        </next>\n                                                                    </block>\n                                                                </next>\n                                                            </block>\n                                                        </next>\n                                                    </block>                                                                                                   \n\t\t\t\t\t\t\t\t\t            </statement>\n\t\t\t\t\t\t\t\t\t            <next>\n\t\t\t\t\t\t\t\t\t                <block type="controls_if1">\n\t\t\t\t\t\t\t\t\t                    <value name="IF0">\n\t\t\t\t\t\t\t\t\t\t                    <block type="digital_logic_compare">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t                            <field name="A">4</field>\n\t\t\t\t\t\t\t\t\t\t                            <field name="B">1</field>\n\t\t\t\t\t\t\t\t\t\t                    </block>                          \n\t\t\t\t\t\t\t\t\t                    </value>\n\t\t\t\t\t\t\t\t\t                    <statement name="DO0">\n\t\t\t\t\t\t\t\t\t                        <block type="motor">\n                                                                <field name="motorNumber">0</field>\n                                                                <field name="motorDirection">0</field>\n                                                                <field name="motorSpeed">4</field>\n                                                                <next>\n                                                                    <block type="motor">\n                                                                        <field name="motorNumber">1</field>\n                                                                        <field name="motorDirection">0</field>\n                                                                        <field name="motorSpeed">4</field>\n                                                                        <next>\n                                                                            <block type="wait">\n                                                                                <field name="seconds">0.5</field>\n                                                                                <next>\n                                                                                    <block type="motor">\n                                                                                        <field name="motorNumber">0</field>\n                                                                                        <field name="motorDirection">0</field>\n                                                                                        <field name="motorSpeed">4</field>\n                                                                                        <next>\n                                                                                            <block type="motor">\n                                                                                                <field name="motorNumber">1</field>\n                                                                                                <field name="motorDirection">1</field>\n                                                                                                <field name="motorSpeed">4</field>\n                                                                                                <next> \n                                                                                                    <block type="wait">\n                                                                                                        <field name="seconds">0.4</field>\n                                                                                                        <next></next>\n                                                                                                    </block>\n                                                                                                </next>\n                                                                                            </block>\n                                                                                        </next>\n                                                                                    </block>   \n                                                                                </next>\n                                                                            </block>\n                                                                        </next>\n                                                                    </block>\n                                                                </next>\n                                                            </block>                                                                                                   \n\t\t\t\t\t\t\t\t\t                    </statement>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t                    </block>\n\t\t\t\t\t\t\t\t\t            </next>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t            </block>\n                                        </next>\n                                    </block>\n                                </next>\n                            </block>\n                        </statement>\n                    </block>\n               </value>\n            </block>\n            \n\t\t\t<block type="start">\n                <value name="state">\n\t\t\t\t\t<block type="motor">\n\t\t\t\t\t\t<field name="motorNumber">1</field>\n\t\t\t\t\t\t<field name="motorSpeed">0</field>\n\t\t\t\t\t\t<field name="motorDirection">0</field>\n\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t<block type="motor">\n\t\t\t\t\t\t\t\t<field name="motorNumber">2</field>\n\t\t\t\t\t\t\t\t<field name="motorSpeed">0</field>\n\t\t\t\t\t\t\t\t<field name="motorDirection">0</field>\n\t\t\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t\t\t<block type="controls_repeat_ext">\n\t\t\t\t\t\t\t\t\t\t<value name="TIMES">\n\t\t\t\t\t\t\t\t\t\t\t<block type="math_number">\n\t\t\t\t\t\t\t\t\t\t\t\t<field name="NUM">10</field>\n\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t</value>\n\t\t\t\t\t\t\t\t\t\t<statement name="DO">\n\t\t\t\t\t\t\t\t\t\t\t<block type="motor">\n\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorNumber">1</field>\n\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorSpeed">4</field>\n\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorDirection">1</field>\n\t\t\t\t\t\t\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<block type="motor">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorNumber">2</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorSpeed">4</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorDirection">1</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<block type="wait">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="seconds">1.2</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<block type="motor">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorNumber">1</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorSpeed">2</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorDirection">1</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<block type="motor">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorNumber">2</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorSpeed">2</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="motorDirection">0</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<block type="wait">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<field name="seconds">0.5</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<block type="controls_if1">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<value name="IF0">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<block type="digital_logic_compare">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        <field name="A">5</field>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        <field name="B">1</field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    <value>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</value></block>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</value>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</next>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t\t\t</next>\n\t\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t\t</statement>\n\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t</next>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</next>\n\t\t\t\t\t</block>\n                </value>\n            </block>\n        </category>\n    </xml>'},function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0,!1,!1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"blockly-container"},[e("div",{attrs:{id:"blockly"}})])}],i={render:n,staticRenderFns:r};a.a=i},function(t,a,e){"use strict";function n(t){e(35)}var r=e(36),i=e(37),o=e(1),u=n,l=o(r.a,i.a,!1,u,null,null);a.a=l.exports},function(t,a){},function(t,a,e){"use strict";a.a={name:"Header"}},function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0,!1,!1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",[e("h1",[t._v("ESP IDE")]),t._v(" "),e("p",[t._v(" Copyright 2017, T. Trnkel, F.J. Pal")])])}],i={render:n,staticRenderFns:r};a.a=i},function(t,a,e){"use strict";function n(t){e(39)}var r=e(40),i=e(53),o=e(1),u=n,l=o(r.a,i.a,!1,u,null,null);a.a=l.exports},function(t,a){},function(t,a,e){"use strict";var n=e(41),r=e(45),i=e(49),o=e(0),u=e.n(o),l=e(3),c=e(4),s=e(50),d=e(51),_=e.n(d),p=e(5),R=e.n(p),E=e(52),D=e.n(E);a.a={name:"CodePreview",data:function(){return{code:"",languages:[{id:i.a.CPP,name:"C++"},{id:i.a.BASIC,name:"Basic"},{id:i.a.INTERNAL,name:"Internal Code"}],selectedLanguage:i.a.CPP,isRunning:!1}},props:{blocklyInstance:{type:Object}},watch:{blocklyInstance:function(){null!==this.blocklyInstance&&(this.blocklyInstance.addChangeListener(this.updateCodePreview),this.updateCodePreview())},selectedLanguage:function(){this.updateCodePreview()}},computed:{languageClass:function(){switch(this.selectedLanguage){case i.a.CPP:case i.a.BASIC:case i.a.INTERNAL:return"cpp";default:return""}},icons:function(){return{PlayIcon:_.a,StopIcon:R.a,ArrowIcon:D.a}},getPlayButtonIcon:function(){return this.isRunning?R.a:_.a}},methods:{onLanguageChange:function(t){this.selectedLanguage=t},updateCodePreview:function(){if(null!==this.blocklyInstance)switch(this.selectedLanguage){case i.a.CPP:this.code=u.a.Dart.workspaceToCode(this.blocklyInstance);break;case i.a.BASIC:this.code=u.a.JavaScript.workspaceToCode(this.blocklyInstance);break;case i.a.INTERNAL:Object(l.a)(),Object(c.a)(),this.code=u.a.Lua.workspaceToCode(this.blocklyInstance);break;default:this.code=""}},onPlayButtonClicked:function(){this.isRunning=!this.isRunning,Object(s.a)("/start").then(function(t){}).catch(function(t){})},onStopButtonClicked:function(){Object(s.a)("/stop").then(function(t){}).catch(function(t){})},onSendButtonClicked:function(){Object(s.a)("/send").then(function(t){}).catch(function(t){})}},components:{DropDown:n.a,RoundButton:r.a}}},function(t,a,e){"use strict";function n(t){e(42)}var r=e(43),i=e(44),o=e(1),u=n,l=o(r.a,i.a,!1,u,null,null);a.a=l.exports},function(t,a){},function(t,a,e){"use strict";a.a={name:"DropDown",data:function(){return{isOpened:!1}},created:function(){window.addEventListener("click",this.onWindowClick)},beforeDestroy:function(){window.removeEventListener("click",this.onWindowClick)},props:{options:{type:Array,required:!0},selected:{type:Number,default:0}},methods:{onClicked:function(t){this.$emit("change",t)},onWindowClick:function(){this.isOpened=!1}}}},function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"drop-down",class:{opened:t.isOpened},on:{click:function(a){a.stopPropagation(),t.isOpened=!t.isOpened}}},[e("div",{staticClass:"current"},[e("span",[t._v(t._s(t.options.find(function(a){return t.selected===a.id}).name))]),t._v(" "),e("div",{staticClass:"arrow"})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],staticClass:"options"},[e("ul",t._l(t.options,function(a){return e("li",{on:{click:function(){return t.onClicked(a.id)}}},[t._v("\n        "+t._s(a.name)+"\n      ")])}))])])},r=[],i={render:n,staticRenderFns:r};a.a=i},function(t,a,e){"use strict";function n(t){e(46)}var r=e(47),i=e(48),o=e(1),u=n,l=o(r.a,i.a,!1,u,null,null);a.a=l.exports},function(t,a){},function(t,a,e){"use strict";a.a={name:"RoundButton",props:{enabled:{type:Boolean,default:!0},icon:{type:String,required:!0}},methods:{onClicked:function(){this.enabled&&this.$emit("click")}}}},function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"round-button",class:{disabled:!t.enabled},on:{click:t.onClicked}},[e("svg",[e("use",{attrs:{href:t.icon+"#Layer_1"}})])])},r=[],i={render:n,staticRenderFns:r};a.a=i},function(t,a,e){"use strict";a.a={CPP:0,BASIC:1,INTERNAL:2}},function(t,a,e){"use strict";e.d(a,"a",function(){return r});var n=function(t,a,e){return new Promise(function(n,r){var i=new XMLHttpRequest;i.open(t,a,!0),i.addEventListener("load",function(t){i.status>=200&&i.status<300?n(i.response):(console.warn(i.statusText,i.responseText),r(i.response))}),i.send(e)})},r=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n("POST",t,a)}},function(t,a,e){t.exports=e.p+"assets/img/play.f09fc5a.svg"},function(t,a,e){t.exports=e.p+"assets/img/arrow.4380e5a.svg"},function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"code-preview"},[e("DropDown",{attrs:{options:t.languages,selected:t.selectedLanguage},on:{change:t.onLanguageChange}}),t._v(" "),e("div",{staticClass:"code-container"},[e("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:t.code,expression:"code"}]},[e("code",{class:t.languageClass})])]),t._v(" "),e("div",{staticClass:"buttons"},[e("RoundButton",{attrs:{icon:t.icons.ArrowIcon},on:{click:t.onSendButtonClicked}}),t._v(" "),e("RoundButton",{attrs:{icon:t.icons.StopIcon},on:{click:t.onStopButtonClicked}}),t._v(" "),e("RoundButton",{attrs:{icon:t.getPlayButtonIcon},on:{click:t.onPlayButtonClicked}})],1)],1)},r=[],i={render:n,staticRenderFns:r};a.a=i},function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Header"),t._v(" "),e("main",[e("BlocklyContainer",{on:{registerBlockly:t.registerBlockly}}),t._v(" "),e("CodePreview",{attrs:{blocklyInstance:t.blocklyInstance}})],1)],1)},r=[],i={render:n,staticRenderFns:r};a.a=i},function(t,a,e){"use strict";var n=e(56);n.registerLanguage("cpp",e(57));var r={};r.install=function(t){t.directive("highlightjs",{deep:!0,bind:function(t,a){var e=t.querySelectorAll("code"),r=void 0,i=void 0;for(i=0;i<e.length;i+=1)r=e[i],"string"==typeof a.value&&(r.textContent=a.value),n.highlightBlock(r)},componentUpdated:function(t,a){var e=t.querySelectorAll("code"),r=void 0,i=void 0;for(i=0;i<e.length;i+=1)r=e[i],"string"==typeof a.value&&(r.textContent=a.value,n.highlightBlock(r))}})},t.exports=r},,,function(t,a){},,function(t,a){},function(t,a){}],[6]);
//# sourceMappingURL=main.ade92d6056b4b88fd9bd.js.map